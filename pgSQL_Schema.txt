CREATE TABLE accesslog (
	ID serial PRIMARY KEY NOT NULL,
	Timestamp INTEGER NOT NULL,
	RemoteIP INTEGER NOT NULL,
	Request TEXT NOT NULL,
	UserID INTEGER
);

CREATE TABLE user ( 
	ID serial PRIMARY KEY, 
	username TEXT NOT NULL, 
	password TEXT NOT NULL,
	keySlot0PassHash TEXT NOT NULL,
	keySlot0 TEXT NOT NULL
);

CREATE TABLE auth (
	ID serial PRIMARY KEY,
	userID INTEGER REFERENCES "user"(ID),
	URL TEXT,
	Salt TEXT,
	Credentials TEXT
);
CREATE INDEX auth_user ON auth(userID);
CREATE INDEX accesslog_user ON accesslog(userID);

CREATE TABLE schema_version ( 
	versionNo INTEGER PRIMARY KEY
);
INSERT INTO schema_version(0);